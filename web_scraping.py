import requests
import lxml.html
import json

html = requests.get('https://books.toscrape.com/')
doc = lxml.html.fromstring(html.content)

books_name = doc.xpath('//a[@title]')
# print(books_name)
book_title = []
for name in books_name:
    book_title.append(name.text_content())
    # print(name.text_content())
# print(book_title)
book_price = doc.xpath('//p[@class="price_color"]/text()')
# print(book_price)

output = []
for info in zip(book_title, book_price):
    resp = {}
    resp['book_title'] = info[0]
    resp['book_price'] = info[1]
    output.append(resp)

# Assuming 'output' is your list of dictionaries
json_output = json.dumps(output, indent=4)

# Write the JSON-formatted string to a file
with open("book_info.json", "w") as json_file:
    json_file.write(json_output)

